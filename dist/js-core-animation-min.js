!function(n){"undefined"==typeof window?"undefined"==typeof global||global:window;"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):window.CoreAnimation=n()}(function(){"use strict";function n(n,t){return 1-3*t+3*n}function t(n,t){return 3*t-6*n}function i(n){return 3*n}function e(e,r,o){return((n(r,o)*e+t(r,o))*e+i(r))*e}function r(e,r,o){return 3*n(r,o)*e*e+2*t(r,o)*e+i(r)}function o(n,t,i,r,o){var s,a,u=0;do{a=t+(i-t)/2,s=e(a,r,o)-n,s>0?i=a:t=a}while(Math.abs(s)>y&&++u<A);return a}function s(n,t,i,o){for(var s=0;s<w;++s){var a=r(t,i,o);if(0===a)return t;t-=(e(t,i,o)-n)/a}return t}function a(n,t,i,a){function u(t){for(var e=0,a=1,u=b-1;a!==u&&f[a]<=t;++a)e+=E;--a;var c=(t-f[a])/(f[a+1]-f[a]),d=e+c*E,h=r(d,n,i);return h>=v?s(t,d,n,i):0===h?d:o(t,e,e+E,n,i)}if(!(0<=n&&n<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");var f=T?new Float32Array(b):new Array(b);if(n!==t||i!==a)for(var c=0;c<b;++c)f[c]=e(c*E,n,i);return function(r){return n===t&&i===a?r:0===r?0:1===r?1:e(u(r),t,a)}}function u(){}function f(n){this._onEnd=n.onEnd||u,this._onStart=n.onStart||u,this._onProgress=n.onProgress||u,this.progress=0,this.duration=n.duration,this._status=F,this._timestamp=0,this._easing=a.apply(null,n.easing),this.pastTime=0}function c(n){return new f(n)}function d(n){return n.easing=n.easing||[.25,.1,.25,1],n.duration=n.duration||500,c(n)}function h(n){return n.easing=[.25,.1,.25,1],d(n)}function p(n){return n.easing=[0,0,1,1],d(n)}function m(n){return n.easing=[.42,0,1,1],d(n)}function g(n){return n.easing=[0,0,.58,1],d(n)}function _(n){return n.easing=[.42,0,.58,1],d(n)}var l;l=requestAnimationFrame,cancelAnimationFrame;var w=4,v=.001,y=1e-7,A=10,b=11,E=1/(b-1),T="function"==typeof Float32Array,F=0;return f.prototype={start:function(){this.progress=0,this.pastTime=0,this._status=1,this._onStart(),this._onProgress(this.progress),this.update()},update:function(){var n=this;this._status=3,this._timestamp=Date.now(),l(function(){if(3===n._status){var t=Math.min(Date.now()-n._timestamp+n.pastTime,n.duration);n.pastTime=t;var i=n._easing(t/n.duration);n.progress=i,n._onProgress(i),t==n.duration?n.animationEnd():n.update()}})},delay:function(n){var t=this;setTimeout(function(){t.start()},n)},wait:function(n){this._status=2},continueAnimation:function(){this.update()},finish:function(){this.progress=1,this.update()},animationEnd:function(){this._status=4,this._onEnd()}},{create:c,timing:d,linear:h,ease:p,easeIn:m,easeOut:g,easeInOut:_}});